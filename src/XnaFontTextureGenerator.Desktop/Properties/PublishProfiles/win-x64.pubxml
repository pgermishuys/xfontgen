<Project>
  <PropertyGroup>
    <Configuration>Release</Configuration>
    <Platform>Any CPU</Platform>
    <PublishDir>bin\Release\net7.0\publish\win-x64\</PublishDir>
    <PublishProtocol>FileSystem</PublishProtocol>
    <_TargetId>Folder</_TargetId>
    <TargetFramework>net7.0</TargetFramework>
    <RuntimeIdentifier>win-x64</RuntimeIdentifier>
    <SelfContained>false</SelfContained>
    <PublishSingleFile>true</PublishSingleFile>
    <PublishReadyToRun>false</PublishReadyToRun>
  </PropertyGroup>
  <Target Name="Package" AfterTargets="Publish">
    <ZipDirectory SourceDirectory="$(PublishDir)" DestinationFile="xfontgen.$(RuntimeIdentifier).zip" />
    <Move SourceFiles="xfontgen.$(RuntimeIdentifier).zip" DestinationFolder="$(PublishDir)" />
  </Target>
  <Target Name="CleanPackage" BeforeTargets="Package">
    <ItemGroup>
      <FileToDelete Include="$(PublishDir)*.zip" />
    </ItemGroup>
    <Delete Files="@(FileToDelete)" />
  </Target>
</Project>